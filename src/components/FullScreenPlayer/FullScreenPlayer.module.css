.container {
  position: fixed;
  top: 0;
  left: 0;
  width: 100vw;
  height: 100vh; /* Covering everything including player bar? No, maybe just above content, but we might want full immersion */
  /* If we want full immersion, PlayerBar should probably stay visible or we replicate controls. 
     Common pattern: Expanded player covers everything, has its own controls or uses the bottom bar if it's persistent (like Apple Music).
     Let's make it cover everything EXCEPT the bottom player bar, but maybe we can make it slide up from bottom overlaying everything.
  */
  top: 0;
  height: 100dvh; /* Cover everything on mobile */
  z-index: 150; /* Above regular UI and PlayerBar when expanded */
  background: var(--background-start);
  background: linear-gradient(to bottom, #1e1b4b, #000);
  backdrop-filter: blur(50px);
  transform: translateY(100%);
  transition: transform 0.5s cubic-bezier(0.32, 0.72, 0, 1);
  display: flex;
  overflow: hidden;
}

@media (max-width: 768px) {
  .container {
    height: 100dvh;
    border-top-left-radius: 24px;
    border-top-right-radius: 24px;
  }
}

.visible {
  transform: translateY(0);
}

.content {
  display: flex;
  width: 100%;
  height: 100%;
  padding: 4rem;
  gap: 4rem;
}

@media (max-width: 768px) {
  .content {
    flex-direction: column;
    padding: 2rem 1.5rem;
    gap: 2rem;
    padding-top: 4rem;
  }
}

.leftSection {
  flex: 1;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
}

.albumArt {
  width: 400px;
  max-width: 100%;
  aspect-ratio: 1/1;
  border-radius: 20px;
  box-shadow: 0 20px 60px rgba(0,0,0,0.5);
  overflow: hidden;
  margin-bottom: 2rem;
}

@media (max-width: 768px) {
  .albumArt {
    width: 280px;
    height: 280px;
    margin-bottom: 1.5rem;
  }
}

.albumArt img {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

.trackInfo {
  text-align: center;
}

@media (max-width: 768px) {
  .title {
    font-size: 1.5rem;
  }
  .artist {
    font-size: 1rem;
  }
}

.rightSection {
  flex: 1.5;
  display: flex;
  flex-direction: column;
  justify-content: center;
  height: 100%;
  overflow: hidden;
  mask-image: linear-gradient(to bottom, transparent, black 15%, black 85%, transparent);
}

@media (max-width: 768px) {
  .rightSection {
    mask-image: linear-gradient(to bottom, transparent, black 10%, black 90%, transparent);
  }
}

.lyricsContainer {
  height: 60vh;
  overflow-y: auto;
  padding: 2rem 0;
  scrollbar-width: none; /* Hide scrollbar */
}

.lyricsContainer::-webkit-scrollbar {
  display: none;
}

.lyricLine {
  font-size: 1.5rem;
  color: rgba(255,255,255,0.4);
  padding: 0.8rem 0;
  transition: all 0.3s;
  cursor: pointer;
  font-weight: 600;
  text-align: center;
}

@media (max-width: 768px) {
  .lyricLine {
    font-size: 1.2rem;
    padding: 0.6rem 0;
  }
}

.activeLine {
  color: #fff;
  font-size: 1.8rem;
  transform: scale(1.05);
  transform-origin: center;
}

@media (max-width: 768px) {
   .activeLine {
     font-size: 1.4rem;
   }
}

.closeButton {
  position: absolute;
  top: 2rem;
  right: 2rem;
  background: transparent;
  border: none;
  color: rgba(255,255,255,0.5);
  cursor: pointer;
  z-index: 10;
}

.closeButton:hover {
  color: #fff;
}
